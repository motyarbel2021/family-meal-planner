# מתכנן הארוחות המשפחתי 🍽️

מערכת מתקדמת לתכנון ארוחות שבועיות למשפחה עם רשימת מצרכים אוטומטית ומערכת ניהול ילדים מתקדמת.

## 🌐 קישורים חשובים

- **🌍 אפליקציה חיה**: https://family-meal-planner.pages.dev (בפרסום...)
- **📂 GitHub Repository**: https://github.com/motyarbel2021/family-meal-planner
- **⚡ Development Preview**: https://3000-ideczzn8m5mw4416lioff-6532622b.e2b.dev

## ✨ תכונות מרכזיות (עדכון חדש!)

### 👥 ניהול ילדים מתקדם
- **הוספת ילדים חדשים** עם שם וגיל
- **ניהול העדפות אישיות** לכל ילד (מנות שהוא אוהב)
- **זיהוי מנות מועדפות** בהצגה החזותית (❤️)
- **מחיקת ילדים** עם אישור מהמשתמש

### 🍽️ ניהול מנות מתקדם
- **הוספת מנות חדשות** עם סיווג לפי סוגי ארוחה (בוקר/צהריים/ערב)
- **מערכת תגיות מנות** לקטגוריזציה נוחה
- **צפיה מלאה במנות** עם כל הפרטים
- **מחיקת מנות** עם אישור מהמשתמש

### 📅 תכנון שבועי חכם עם תאריכים
- **🆕 הצגת תאריכים** בכותרות הימים (למשל: "ראשון 15/12")
- **🆕 מעבר בין שבועות** - השבוע הנוכחי מול השבוע הבא
- **🆕 תכנון מוקדם** - אפשרות לתכנן את השבוע הבא מראש
- **טבלה מסודרת** עם תאי ארוחה ייעודיים לכל ילד
- **שמירה נפרדת** לכל שבוע בנתונים
- **צפיה בטווח תאריכי השבוע** בכותרת הטבלה

### 🤖 צ'אטבוט עברי חכם עם NLP
- **🆕 שיבוץ אוטומטי של מנות** באמצעות פקודות בעברית
- **🆕 הבנת פקודות טבעיות** כמו "תשבץ לאורי בימים ראשון וחמישי חביתה"
- **🆕 ביצוע פעולות מתקדמות** ישירות מהצ'אט
- **זיהוי ילדים ומנות** מתוך הטקסט באופן חכם
- **עצות והדרכה** לשימוש במערכת

### 🛒 רשימת קניות חכמה
- **יצירה אוטומטית** מתכנון השבוע
- **צבירת מרכיבים** חכמה עם נרמול יחידות מידה
- **קטגוריזציה אוטומטית** - בשר ודגים, דגנים, חלבי, ירקות, מזווה, פירות
- **עריכה אינטראקטיבית** של כמויות ופריטים
- **סימון כנרכש** עם עדכון ויזואלי מיידי

### 📊 ממשק משתמש מתקדם
- **עיצוב RTL** מותאם לעברית עם תמיכה מלאה
- **ממשק רספונסיבי** המותאם לכל המכשירים
- **מודאלים אינטראקטיביים** עם אנימציות חלקות
- **עדכונים בזמן אמת** של הנתונים
- **תצוגת מצב שבוע** ברורה ונוחה

### 🔒 פרטיות ואבטחה
- **נתונים מקומיים בלבד** - הכל נשמר במכשיר שלך
- **אין שליחה לשרתים חיצוניים** למטרות מסחריות
- **הודעת פרטיות** שקופה ולא מפריעה

## 📱 פונקציונליות נוכחית

### ✅ פעיל ומלא
- ✅ **ניהול ילדים** - הוספה, עריכה, העדפות, מחיקה
- ✅ **ניהול מנות** - הוספה, צפיה, סיווג, מחיקה  
- ✅ **תכנון שבועי מלא** עם תאריכים וניהול שבועות
- ✅ **צ'אטבוט חכם** עם NLP לשיבוץ אוטומטי
- ✅ **רשימת קניות** חכמה עם קטגוריזציה
- ✅ **ממשק עברי מתקדם** (RTL) מסודר ונוח

### 🆕 תכונות חדשות (עדכון זה!)
- ✅ **תאריכים בכותרות הימים** - הצגת תאריך מלא ליד שם היום
- ✅ **מעבר בין שבועות** - כפתור להחלפה בין השבוע הנוכחי לשבוע הבא
- ✅ **תכנון מוקדם** - אפשרות לתכנן את השבוע הבא מראש
- ✅ **צ'אטבוט NLP** - הבנת פקודות עברית לשיבוץ מנות
- ✅ **שמירה נפרדת לשבועות** - כל שבוע נשמר בנפרד עם מזהה ייחודי
- ✅ **הצגת טווח שבוע** - תאריכי התחלה וסיום השבוע בכותרת

### 📋 מתוכנן לעתיד
- 📅 ייצוא תכנון לקובץ PDF
- 🔄 העתקת תכניות בין שבועות
- 🛒 אינטגרציה עם אפליקציות קניות
- 📊 דוחות תזונה ואנליטיקה

## 🎯 דוגמאות לשימוש בצ'אטבוט

הצ'אטבוט החדש מבין פקודות עברית טבעיות:

### פקודות שיבוץ בסיסיות:
- `"תשבץ לאורי ביום ראשון חביתה"`
- `"תשבץ למיה ביום שבת מרק עדשים"`
- `"שבץ לדני בימים שני ורביעי פסטה"`

### פקודות מרובות ימים:
- `"תשבץ לאורי בימים ראשון וחמישי חביתה"`
- `"תשבץ למיה בימים שני ושלישי ושישי מרק"`
- `"שבץ לכל הילדים ביום שבת פיתה בזעתר"`

### איך זה עובד:
1. הצ'אטבוט מזהה את שם הילד מתוך רשימת הילדים הרשומים
2. מפרק את רשימת הימים (תומך ב"ו" כמקשר)
3. מחפש את המנה המתאימה במאגר המנות
4. משבץ אוטומטית לארוחת הצהריים/ערב (לפי התאמת המנה)
5. מציג אישור על השיבוץ עם פירוט מלא

## 🏗️ ארכיטקטורה טכנית

### Backend
- **Hono Framework** - Framework קל ומהיר ל-Cloudflare Workers
- **Cloudflare D1** - בסיס נתונים SQLite מבוזר
- **TypeScript** - בטיחות סוגים ופיתוח מתקדם
- **Cloudflare Pages** - פרסום ו-hosting באמצעות edge network

### Frontend  
- **Vanilla JavaScript** - ללא frameworks כבדים, ביצועים מהירים
- **Tailwind CSS** - עיצוב מודרני ורספונסיבי
- **Font Awesome** - אייקונים מקצועיים
- **localStorage** - אחסון מקומי למהירות גבוהה

### מבנה נתונים חדש
```javascript
// מבנה שמירת נתונים שבועיים
mealPlannerWeeklyMenus: {
  "week_2025_08_25": {  // מפתח שבוע ייחודי
    "ראשון_צהריים_child123": {
      mealId: "meal456",
      mealName: "חביתה",
      childId: "child123", 
      childName: "אורי",
      addedAt: "2025-08-30T...",
      isPreferred: true,
      assignedByChat: true  // סימון שהמנה נוספה דרך הצ'אט
    }
  },
  "week_2025_09_01": { ... }  // שבוע הבא
}
```

## 🚀 הפעלה מקומית

### דרישות מערכת
- Node.js 18+
- npm או yarn  
- wrangler CLI (לפיתוח Cloudflare)

### התקנה מקומית
```bash
# שכפול הפרויקט
git clone https://github.com/username/meal-planner.git
cd meal-planner

# התקנת חבילות
npm install

# הגדרת בסיס נתונים מקומי
npm run db:migrate:local
npm run db:seed

# הרצה בסביבת פיתוח
npm run dev:sandbox

# או עבור פיתוח רגיל
npm run dev
```

### פקודות שימושיות
```bash
# בניית הפרויקט
npm run build

# הפעלת שרת פיתוח עם D1
npm run dev:d1

# הרצת migrations
npm run db:migrate:local

# איפוס בסיס נתונים
npm run db:reset

# פרסום לCloudflare Pages
npm run deploy
```

## 📊 נתונים נוכחיים

### פונקציונליות זמינה
- **ילדים במערכת**: תמיכה בכמות בלתי מוגבלת
- **מנות זמינות**: מאגר גמיש עם סיווג מתקדם
- **ניהול שבועות**: שמירה נפרדת לכל שבוע עם תאריכים
- **צ'אטבוט**: עיבוד עברית מתקדם עם 15+ דפוסי פקודה
- **מעבר שבועות**: תצוגה נוחה של שבוע נוכחי/בא

### ביצועים
- **זמן טעינה**: < 3 שניות
- **תגובת ממשק**: < 100ms
- **שמירת נתונים**: מיידית (localStorage)
- **תמיכה בשפות**: עברית מלאה (RTL)

## 💡 טיפים לשימוש

### תכנון שבועות
- השתמש בכפתור "השבוע הבא" לתכנון מוקדם
- השבוע הנוכחי מציג את התכנון לשבוע זה
- השבוע הבא מאפשר תכנון מראש לשבוע שיבוא
- הצ'אטבוט עובד עם השבוע הנוכחי שמוצג

### שימוש בצ'אטבוט  
- השתמש בשמות הילדים המדויקים כפי שהם רשומים במערכת
- השתמש בשמות המנות או חלק מהם (הצ'אטבוט מזהה חלקית)
- ניתן לשבץ לכמה ימים בבת אחת עם "ו" בין הימים
- הצ'אטבוט יודיע אם לא מצא ילד או מנה

### ניהול נתונים
- כל שבוע נשמר בנפרד ולא משפיע על שבועות אחרים
- ניתן לעבור בין שבועות ללא איבוד נתונים
- המערכת זוכרת את כל השיבוצים לכל שבוע

## 🤝 תרומה לפרויקט

הפרויקט פתוח להצעות ושיפורים! אנא:

1. פתח issue לבאגים או בקשות תכונה
2. צור Pull Request עם שינויים מוצעים  
3. עקוב אחר קוד נקי ותיעוד מתאים
4. הוסף בדיקות לתכונות חדשות

## 📄 רישיון

MIT License - ראה קובץ LICENSE למידע מלא

## 📞 תמיכה וקשר

- **בעיות**: פתח issue ב-GitHub
- **הצעות**: צור discussion ב-GitHub  
- **שאלות כלליות**: מייל או טופס יצירת קשר

---

**נבנה עם ❤️ בישראel | Built with ❤️ in Israel**

> 🗓️ **שנת 2025** - האפליקציה עודכנה לשנה החדשה עם תכונות מתקדמות!

*עדכון אחרון: 30 באוגוסט 2025 - הוספת תכונות שבועיות מתקדמות וצ'אטבוט חכם עם NLP עברי*